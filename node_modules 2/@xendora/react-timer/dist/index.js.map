{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["import { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass ReactTimer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: props.start || 0,\n    };\n    this.timer = null;\n  }\n\n  componentDidMount() {\n    const {\n      onTick,\n      interval,\n      end,\n      onEnd,\n    } = this.props;\n    this.timer = setInterval(() => {\n      this.setState(({ value }) => (\n        { value: onTick(value) }\n      ), () => {\n        const { value: currentValue } = this.state;\n        if (end(currentValue)) {\n          clearInterval(this.timer);\n          onEnd(currentValue);\n        }\n      });\n    }, interval);\n  }\n\n  componentWillUnmount() {\n    if (this.timer) {\n      clearInterval(this.timer);\n    }\n  }\n\n  render() {\n    const { children } = this.props;\n    const { value } = this.state;\n    return children(value);\n  }\n}\n\nReactTimer.defaultProps = {\n  interval: 1000,\n  onEnd: () => { },\n  onTick: () => { },\n};\n\nReactTimer.propTypes = {\n  children: PropTypes.func.isRequired,\n  start: PropTypes.number.isRequired,\n  end: PropTypes.func.isRequired,\n  interval: PropTypes.number,\n  onTick: PropTypes.func,\n  onEnd: PropTypes.func,\n};\n\nexport default ReactTimer;\n"],"names":["ReactTimer","props","state","value","start","timer","onTick","interval","end","onEnd","setInterval","setState","currentValue","clearInterval","children","Component","defaultProps","propTypes","PropTypes","func","isRequired","number"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAGMA;;;;;sBACQC,KAAZ,EAAmB;;;;;oFACXA,KAAN;UACKC,KAAL,GAAa;MACXC,KAAK,EAAEF,KAAK,CAACG,KAAN,IAAe;KADxB;UAGKC,KAAL,GAAa,IAAb;;;;;;wCAGkB;;;wBAMd,KAAKJ,KANS;UAEhBK,MAFgB,eAEhBA,MAFgB;UAGhBC,QAHgB,eAGhBA,QAHgB;UAIhBC,GAJgB,eAIhBA,GAJgB;UAKhBC,KALgB,eAKhBA,KALgB;WAObJ,KAAL,GAAaK,WAAW,CAAC,YAAM;QAC7B,MAAI,CAACC,QAAL,CAAc;cAAGR,KAAH,QAAGA,KAAH;iBACZ;YAAEA,KAAK,EAAEG,MAAM,CAACH,KAAD;WADH;SAAd,EAEG,YAAM;cACQS,YADR,GACyB,MAAI,CAACV,KAD9B,CACCC,KADD;;cAEHK,GAAG,CAACI,YAAD,CAAP,EAAuB;YACrBC,aAAa,CAAC,MAAI,CAACR,KAAN,CAAb;YACAI,KAAK,CAACG,YAAD,CAAL;;SANJ;OADsB,EAUrBL,QAVqB,CAAxB;;;;2CAaqB;UACjB,KAAKF,KAAT,EAAgB;QACdQ,aAAa,CAAC,KAAKR,KAAN,CAAb;;;;;6BAIK;UACCS,QADD,GACc,KAAKb,KADnB,CACCa,QADD;UAECX,KAFD,GAEW,KAAKD,KAFhB,CAECC,KAFD;aAGAW,QAAQ,CAACX,KAAD,CAAf;;;;;EAtCqBY;;AA0CzBf,UAAU,CAACgB,YAAX,GAA0B;EACxBT,QAAQ,EAAE,IADc;EAExBE,KAAK,EAAE,iBAAM,EAFW;EAGxBH,MAAM,EAAE,kBAAM;CAHhB;AAMAN,UAAU,CAACiB,SAAX,GAAuB;EACrBH,QAAQ,EAAEI,SAAS,CAACC,IAAV,CAAeC,UADJ;EAErBhB,KAAK,EAAEc,SAAS,CAACG,MAAV,CAAiBD,UAFH;EAGrBZ,GAAG,EAAEU,SAAS,CAACC,IAAV,CAAeC,UAHC;EAIrBb,QAAQ,EAAEW,SAAS,CAACG,MAJC;EAKrBf,MAAM,EAAEY,SAAS,CAACC,IALG;EAMrBV,KAAK,EAAES,SAAS,CAACC;CANnB;;;;"}