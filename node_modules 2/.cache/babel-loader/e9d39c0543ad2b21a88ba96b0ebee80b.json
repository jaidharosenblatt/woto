{"ast":null,"code":"var _jsxFileName = \"/Users/jasmineharris/Desktop/Elite/woto/src/components/user/accountsettings/ProfileForm.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Form } from \"antd\";\nimport TextInputReq from \"../../form/TextInputReq\";\nimport DataSelect from \"../../form/DataSelect\";\nimport SubmitButton from \"../../form/SubmitButton\";\nimport PhoneNumberInput from \"../../form/PhoneNumberInput\";\nimport VideoRoomUrl from \"../../form/VideoRoomUrl\";\nimport API from \"../../../api/API\";\nimport selectors from \"../../../redux/selectors\";\nimport { editProfile } from \"../../../redux/auth/actionCreators\";\nimport GraduationYearInput from \"../../form/GraduationYearInput\";\nimport ErrorSuccess from \"../../util-components/error-success/ErrorSuccess\";\n/**\n * Edit profile for a user\n * @param {Boolean} loading global loading state\n * @param {Boolean} error error from server\n * @param {Function} editProfile actionCreator for editing profile\n */\n\nconst ProfileForm = props => {\n  const [majors, setMajors] = useState();\n  const myInstitution = props.user.institution;\n  useEffect(() => {\n    async function getMajors() {\n      const schools = await API.getInstitutions();\n      schools.forEach(school => {\n        if (myInstitution === school._id) {\n          setMajors(school.majors);\n        }\n      });\n    }\n\n    getMajors();\n  }, [myInstitution]);\n  return /*#__PURE__*/React.createElement(Form, {\n    initialValues: { ...props.user\n    },\n    hideRequiredMark: true,\n    onFinish: changes => props.editProfile(changes),\n    layout: \"vertical\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(TextInputReq, {\n    label: \"Name\",\n    name: \"name\",\n    placeholder: \"Kyle Sobel\",\n    message: \"Please input your name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(GraduationYearInput, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(PhoneNumberInput, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(DataSelect, {\n    mode: \"tags\",\n    options: majors,\n    label: \"Major(s)\",\n    name: \"majors\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(DataSelect, {\n    mode: \"tags\",\n    options: majors,\n    label: \"Minor(s)\",\n    name: \"minors\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(VideoRoomUrl, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(ErrorSuccess, {\n    showSuccess: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(SubmitButton, {\n    loading: props.loading,\n    CTA: \"Save Changes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }));\n};\n\nconst mapStateToProps = state => {\n  return {\n    user: selectors.getUser(state),\n    loading: selectors.getLoading(state)\n  };\n};\n\nexport default connect(mapStateToProps, {\n  editProfile\n})(ProfileForm);","map":{"version":3,"sources":["/Users/jasmineharris/Desktop/Elite/woto/src/components/user/accountsettings/ProfileForm.js"],"names":["React","useState","useEffect","connect","Form","TextInputReq","DataSelect","SubmitButton","PhoneNumberInput","VideoRoomUrl","API","selectors","editProfile","GraduationYearInput","ErrorSuccess","ProfileForm","props","majors","setMajors","myInstitution","user","institution","getMajors","schools","getInstitutions","forEach","school","_id","changes","loading","mapStateToProps","state","getUser","getLoading"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Form } from \"antd\";\n\nimport TextInputReq from \"../../form/TextInputReq\";\nimport DataSelect from \"../../form/DataSelect\";\nimport SubmitButton from \"../../form/SubmitButton\";\nimport PhoneNumberInput from \"../../form/PhoneNumberInput\";\nimport VideoRoomUrl from \"../../form/VideoRoomUrl\";\n\nimport API from \"../../../api/API\";\nimport selectors from \"../../../redux/selectors\";\nimport { editProfile } from \"../../../redux/auth/actionCreators\";\nimport GraduationYearInput from \"../../form/GraduationYearInput\";\nimport ErrorSuccess from \"../../util-components/error-success/ErrorSuccess\";\n\n/**\n * Edit profile for a user\n * @param {Boolean} loading global loading state\n * @param {Boolean} error error from server\n * @param {Function} editProfile actionCreator for editing profile\n */\nconst ProfileForm = (props) => {\n  const [majors, setMajors] = useState();\n  const myInstitution = props.user.institution;\n  useEffect(() => {\n    async function getMajors() {\n      const schools = await API.getInstitutions();\n      schools.forEach((school) => {\n        if (myInstitution === school._id) {\n          setMajors(school.majors);\n        }\n      });\n    }\n    getMajors();\n  }, [myInstitution]);\n\n  return (\n    <Form\n      initialValues={{\n        ...props.user,\n      }}\n      hideRequiredMark\n      onFinish={(changes) => props.editProfile(changes)}\n      layout=\"vertical\"\n    >\n      <TextInputReq\n        label=\"Name\"\n        name=\"name\"\n        placeholder=\"Kyle Sobel\"\n        message=\"Please input your name\"\n      />\n      <GraduationYearInput />\n      <PhoneNumberInput />\n      <DataSelect mode=\"tags\" options={majors} label=\"Major(s)\" name=\"majors\" />\n      <DataSelect mode=\"tags\" options={majors} label=\"Minor(s)\" name=\"minors\" />\n      <VideoRoomUrl />\n      <ErrorSuccess showSuccess />\n      <SubmitButton loading={props.loading} CTA=\"Save Changes\" />\n    </Form>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    user: selectors.getUser(state),\n    loading: selectors.getLoading(state),\n  };\n};\n\nexport default connect(mapStateToProps, { editProfile })(ProfileForm);\n"]},"metadata":{},"sourceType":"module"}