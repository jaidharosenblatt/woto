{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = require(\"react\");\n\nvar TimerModel_1 = require(\"../lib/models/TimerModel\");\n\nvar getTimeParts_1 = __importDefault(require(\"../lib/helpers/getTimeParts\"));\n\nfunction useTimer(_a) {\n  var _b = _a === void 0 ? {} : _a,\n      _c = _b.initialTime,\n      initialTime = _c === void 0 ? 0 : _c,\n      _d = _b.direction,\n      direction = _d === void 0 ? \"forward\" : _d,\n      _e = _b.timeToUpdate,\n      timeToUpdate = _e === void 0 ? 1000 : _e,\n      _f = _b.startImmediately,\n      startImmediately = _f === void 0 ? true : _f,\n      _g = _b.lastUnit,\n      lastUnit = _g === void 0 ? \"d\" : _g,\n      _h = _b.checkpoints,\n      checkpoints = _h === void 0 ? [] : _h,\n      onStart = _b.onStart,\n      onResume = _b.onResume,\n      onPause = _b.onPause,\n      onStop = _b.onStop,\n      onReset = _b.onReset;\n\n  var _j = react_1.useState(__assign({}, getTimeParts_1.default(initialTime < 0 ? 0 : initialTime, lastUnit), {\n    state: 'INITED'\n  })),\n      timerValues = _j[0],\n      setTimerValues = _j[1];\n\n  var timer = react_1.useMemo(function () {\n    return new TimerModel_1.TimerModel({\n      initialTime: initialTime,\n      direction: direction,\n      timeToUpdate: timeToUpdate,\n      lastUnit: lastUnit,\n      checkpoints: checkpoints,\n      onChange: function (timerValue) {\n        return setTimerValues(function (state) {\n          return __assign({}, state, timerValue);\n        });\n      }\n    });\n  }, []);\n  var setTime = react_1.useCallback(function (time) {\n    return timer.setTime(time);\n  }, [timer]);\n  var getTime = react_1.useCallback(function () {\n    return timer.getTime();\n  }, [timer]);\n  var getTimerState = react_1.useCallback(function () {\n    return timer.state;\n  }, [timer]);\n  var setDirection = react_1.useCallback(function (direction) {\n    return timer.setDirection(direction);\n  }, [timer]);\n  var setLastUnit = react_1.useCallback(function (lastUnit) {\n    return timer.setLastUnit(lastUnit);\n  }, [timer]);\n  var setCheckpoints = react_1.useCallback(function (checkpoints) {\n    return timer.setCheckpoints(checkpoints);\n  }, [timer]);\n  var setTimeToUpdate = react_1.useCallback(function (interval) {\n    return timer.setTimeToUpdate(interval);\n  }, [timer]);\n  var start = react_1.useCallback(function () {\n    timer.start();\n    onStart && onStart();\n  }, [timer, onStart]);\n  var stop = react_1.useCallback(function () {\n    timer.stop();\n    onStop && onStop();\n  }, [timer, onStop]);\n  var pause = react_1.useCallback(function () {\n    timer.pause();\n    onPause && onPause();\n  }, [timer, onPause]);\n  var reset = react_1.useCallback(function () {\n    timer.reset();\n    onReset && onReset();\n  }, [timer, onReset]);\n  var resume = react_1.useCallback(function () {\n    timer.resume();\n    onResume && onResume();\n  }, [timer, onResume]);\n  var controls = react_1.useMemo(function () {\n    return {\n      start: start,\n      stop: stop,\n      pause: pause,\n      reset: reset,\n      resume: resume,\n      setTime: setTime,\n      getTime: getTime,\n      getTimerState: getTimerState,\n      setDirection: setDirection,\n      setLastUnit: setLastUnit,\n      setTimeToUpdate: setTimeToUpdate,\n      setCheckpoints: setCheckpoints\n    };\n  }, [start, stop, pause, reset, resume, setTime, getTime, getTimerState, setDirection, setLastUnit, setTimeToUpdate, setCheckpoints]);\n  react_1.useEffect(function () {\n    if (startImmediately) {\n      start();\n    }\n\n    return function () {\n      stop();\n    };\n  }, []);\n  return {\n    controls: controls,\n    value: timerValues\n  };\n}\n\nexports.useTimer = useTimer;","map":{"version":3,"sources":["../../src/hook/useTimer.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = require(\"react\");\nvar TimerModel_1 = require(\"../lib/models/TimerModel\");\nvar getTimeParts_1 = __importDefault(require(\"../lib/helpers/getTimeParts\"));\nfunction useTimer(_a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.initialTime, initialTime = _c === void 0 ? 0 : _c, _d = _b.direction, direction = _d === void 0 ? \"forward\" : _d, _e = _b.timeToUpdate, timeToUpdate = _e === void 0 ? 1000 : _e, _f = _b.startImmediately, startImmediately = _f === void 0 ? true : _f, _g = _b.lastUnit, lastUnit = _g === void 0 ? \"d\" : _g, _h = _b.checkpoints, checkpoints = _h === void 0 ? [] : _h, onStart = _b.onStart, onResume = _b.onResume, onPause = _b.onPause, onStop = _b.onStop, onReset = _b.onReset;\n    var _j = react_1.useState(__assign({}, getTimeParts_1.default(initialTime < 0 ? 0 : initialTime, lastUnit), { state: 'INITED' })), timerValues = _j[0], setTimerValues = _j[1];\n    var timer = react_1.useMemo(function () {\n        return new TimerModel_1.TimerModel({\n            initialTime: initialTime,\n            direction: direction,\n            timeToUpdate: timeToUpdate,\n            lastUnit: lastUnit,\n            checkpoints: checkpoints,\n            onChange: function (timerValue) {\n                return setTimerValues(function (state) { return (__assign({}, state, timerValue)); });\n            },\n        });\n    }, []);\n    var setTime = react_1.useCallback(function (time) { return timer.setTime(time); }, [timer]);\n    var getTime = react_1.useCallback(function () { return timer.getTime(); }, [timer]);\n    var getTimerState = react_1.useCallback(function () { return timer.state; }, [timer]);\n    var setDirection = react_1.useCallback(function (direction) { return timer.setDirection(direction); }, [timer]);\n    var setLastUnit = react_1.useCallback(function (lastUnit) { return timer.setLastUnit(lastUnit); }, [timer]);\n    var setCheckpoints = react_1.useCallback(function (checkpoints) { return timer.setCheckpoints(checkpoints); }, [timer]);\n    var setTimeToUpdate = react_1.useCallback(function (interval) { return timer.setTimeToUpdate(interval); }, [timer]);\n    var start = react_1.useCallback(function () { timer.start(); onStart && onStart(); }, [timer, onStart]);\n    var stop = react_1.useCallback(function () { timer.stop(); onStop && onStop(); }, [timer, onStop]);\n    var pause = react_1.useCallback(function () { timer.pause(); onPause && onPause(); }, [timer, onPause]);\n    var reset = react_1.useCallback(function () { timer.reset(); onReset && onReset(); }, [timer, onReset]);\n    var resume = react_1.useCallback(function () { timer.resume(); onResume && onResume(); }, [timer, onResume]);\n    var controls = react_1.useMemo(function () { return ({\n        start: start,\n        stop: stop,\n        pause: pause,\n        reset: reset,\n        resume: resume,\n        setTime: setTime,\n        getTime: getTime,\n        getTimerState: getTimerState,\n        setDirection: setDirection,\n        setLastUnit: setLastUnit,\n        setTimeToUpdate: setTimeToUpdate,\n        setCheckpoints: setCheckpoints,\n    }); }, [\n        start, stop, pause, reset, resume,\n        setTime, getTime, getTimerState, setDirection, setLastUnit, setTimeToUpdate, setCheckpoints,\n    ]);\n    react_1.useEffect(function () {\n        if (startImmediately) {\n            start();\n        }\n        return function () {\n            stop();\n        };\n    }, []);\n    return {\n        controls: controls,\n        value: timerValues,\n    };\n}\nexports.useTimer = useTimer;\n//# sourceMappingURL=useTimer.js.map"]},"metadata":{},"sourceType":"script"}