{"ast":null,"code":"var _jsxFileName = \"/Users/jasmineharris/Desktop/Elite/woto/src/components/wotos/WotoGroup.js\";\nimport React, { useState } from \"react\";\nimport { Card, Space, Button } from \"antd\"; // import Timer from \"react-compound-timer\";\n\nimport Avatars from \"./discussioncard/Avatars\";\nimport ParticipantQuestion from \"./discussioncard/ParticipantQuestion\";\nimport FormlessInput from \"../form/FormlessInput\";\nimport LeftRightRow from \"../util-components/leftrightrow/LeftRightRow\";\nimport HideWotoButton from \"../modals/buttons/HideWotoButton\";\nimport LeaveWotoButton from \"../modals/buttons/LeaveWotoButton\";\nimport { closeDiscussion, leaveDiscussion } from \"../../redux/courses/actions/wotos\";\nimport { editSubmission } from \"../../redux/courses/actions/student\";\nimport { connect } from \"react-redux\";\nimport selectors from \"../../redux/selectors\";\nimport EditSubmission from \"../modals/buttons/EditSubmission\";\n\nconst WotoGroup = props => {\n  var _activeDiscussion$own, _activeDiscussion$own2, _activeDiscussion$own3, _activeDiscussion$des, _activeDiscussion$des2;\n\n  const [selectedIndex, setSelectedIndex] = useState(0);\n  const {\n    userID,\n    loading,\n    activeDiscussion\n  } = props;\n  const isOwner = (activeDiscussion === null || activeDiscussion === void 0 ? void 0 : (_activeDiscussion$own = activeDiscussion.owner) === null || _activeDiscussion$own === void 0 ? void 0 : _activeDiscussion$own._id) === userID; //filter out inactive participants\n\n  const participants = activeDiscussion === null || activeDiscussion === void 0 ? void 0 : activeDiscussion.participants.filter(item => item.active);\n  const name = activeDiscussion === null || activeDiscussion === void 0 ? void 0 : (_activeDiscussion$own2 = activeDiscussion.owner) === null || _activeDiscussion$own2 === void 0 ? void 0 : (_activeDiscussion$own3 = _activeDiscussion$own2.name) === null || _activeDiscussion$own3 === void 0 ? void 0 : _activeDiscussion$own3.split(\" \")[0];\n  const roomName = (activeDiscussion === null || activeDiscussion === void 0 ? void 0 : (_activeDiscussion$des = activeDiscussion.description) === null || _activeDiscussion$des === void 0 ? void 0 : _activeDiscussion$des.roomName) || `${name}'s Room`;\n  return /*#__PURE__*/React.createElement(Card, {\n    loading: loading,\n    className: \"discussion-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(LeftRightRow, {\n    left: /*#__PURE__*/React.createElement(Space, {\n      direction: \"vertical\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }\n    }, isOwner ? /*#__PURE__*/React.createElement(FormlessInput, {\n      defaultValue: roomName,\n      onSubmit: desc => props.editSubmission({ ...activeDiscussion.description,\n        roomName: desc\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 15\n      }\n    }) : /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 15\n      }\n    }, roomName), /*#__PURE__*/React.createElement(Space, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      target: \"_blank\",\n      href: activeDiscussion === null || activeDiscussion === void 0 ? void 0 : (_activeDiscussion$des2 = activeDiscussion.description) === null || _activeDiscussion$des2 === void 0 ? void 0 : _activeDiscussion$des2.meetingURL,\n      type: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 15\n      }\n    }, \"Join Video Call\"), isOwner ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(EditSubmission, {\n      question: activeDiscussion.description,\n      discussion: activeDiscussion,\n      handleSubmit: props.editSubmission,\n      button: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(HideWotoButton, {\n      handleLeave: () => props.closeDiscussion(activeDiscussion._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 19\n      }\n    })) : /*#__PURE__*/React.createElement(LeaveWotoButton, {\n      handleLeave: () => props.leaveDiscussion(activeDiscussion._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Avatars, {\n      markAway: () => console.log(\"mark away\"),\n      isOwner: isOwner,\n      participants: participants,\n      selectedIndex: selectedIndex,\n      setSelectedIndex: setSelectedIndex,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    })),\n    right: (participants === null || participants === void 0 ? void 0 : participants.length) !== 0 && /*#__PURE__*/React.createElement(ParticipantQuestion, {\n      selectedIndex: selectedIndex,\n      setSelectedIndex: setSelectedIndex,\n      discussion: activeDiscussion,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }));\n};\n\nconst mapStateToProps = state => {\n  return {\n    course: selectors.getCourse(state),\n    loading: selectors.getLoading(state),\n    activeDiscussion: selectors.getActiveDiscussion(state),\n    userID: selectors.getUserID(state)\n  };\n};\n\nexport default connect(mapStateToProps, {\n  editSubmission,\n  closeDiscussion,\n  leaveDiscussion\n})(WotoGroup);","map":{"version":3,"sources":["/Users/jasmineharris/Desktop/Elite/woto/src/components/wotos/WotoGroup.js"],"names":["React","useState","Card","Space","Button","Avatars","ParticipantQuestion","FormlessInput","LeftRightRow","HideWotoButton","LeaveWotoButton","closeDiscussion","leaveDiscussion","editSubmission","connect","selectors","EditSubmission","WotoGroup","props","selectedIndex","setSelectedIndex","userID","loading","activeDiscussion","isOwner","owner","_id","participants","filter","item","active","name","split","roomName","description","desc","meetingURL","console","log","length","mapStateToProps","state","course","getCourse","getLoading","getActiveDiscussion","getUserID"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Card, Space, Button } from \"antd\";\n// import Timer from \"react-compound-timer\";\nimport Avatars from \"./discussioncard/Avatars\";\nimport ParticipantQuestion from \"./discussioncard/ParticipantQuestion\";\nimport FormlessInput from \"../form/FormlessInput\";\nimport LeftRightRow from \"../util-components/leftrightrow/LeftRightRow\";\nimport HideWotoButton from \"../modals/buttons/HideWotoButton\";\nimport LeaveWotoButton from \"../modals/buttons/LeaveWotoButton\";\nimport {\n  closeDiscussion,\n  leaveDiscussion,\n} from \"../../redux/courses/actions/wotos\";\nimport { editSubmission } from \"../../redux/courses/actions/student\";\nimport { connect } from \"react-redux\";\nimport selectors from \"../../redux/selectors\";\nimport EditSubmission from \"../modals/buttons/EditSubmission\";\n\nconst WotoGroup = (props) => {\n  const [selectedIndex, setSelectedIndex] = useState(0);\n  const { userID, loading, activeDiscussion } = props;\n\n  const isOwner = activeDiscussion?.owner?._id === userID;\n  //filter out inactive participants\n  const participants = activeDiscussion?.participants.filter(\n    (item) => item.active\n  );\n\n  const name = activeDiscussion?.owner?.name?.split(\" \")[0];\n  const roomName = activeDiscussion?.description?.roomName || `${name}'s Room`;\n\n  return (\n    <Card loading={loading} className=\"discussion-card\">\n      <LeftRightRow\n        left={\n          <Space direction=\"vertical\">\n            {isOwner ? (\n              <FormlessInput\n                defaultValue={roomName}\n                onSubmit={(desc) =>\n                  props.editSubmission({\n                    ...activeDiscussion.description,\n                    roomName: desc,\n                  })\n                }\n              />\n            ) : (\n              <h2>{roomName}</h2>\n            )}\n            <Space>\n              <Button\n                target=\"_blank\"\n                href={activeDiscussion?.description?.meetingURL}\n                type=\"primary\"\n              >\n                Join Video Call\n              </Button>\n\n              {isOwner ? (\n                <>\n                  <EditSubmission\n                    question={activeDiscussion.description}\n                    discussion={activeDiscussion}\n                    handleSubmit={props.editSubmission}\n                    button\n                  />\n\n                  <HideWotoButton\n                    handleLeave={() =>\n                      props.closeDiscussion(activeDiscussion._id)\n                    }\n                  />\n                </>\n              ) : (\n                <LeaveWotoButton\n                  handleLeave={() =>\n                    props.leaveDiscussion(activeDiscussion._id)\n                  }\n                />\n              )}\n            </Space>\n            <Avatars\n              markAway={() => console.log(\"mark away\")}\n              isOwner={isOwner}\n              participants={participants}\n              selectedIndex={selectedIndex}\n              setSelectedIndex={setSelectedIndex}\n            />\n          </Space>\n        }\n        right={\n          participants?.length !== 0 && (\n            <ParticipantQuestion\n              selectedIndex={selectedIndex}\n              setSelectedIndex={setSelectedIndex}\n              discussion={activeDiscussion}\n            />\n          )\n        }\n      />\n    </Card>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    course: selectors.getCourse(state),\n    loading: selectors.getLoading(state),\n    activeDiscussion: selectors.getActiveDiscussion(state),\n    userID: selectors.getUserID(state),\n  };\n};\n\nexport default connect(mapStateToProps, {\n  editSubmission,\n  closeDiscussion,\n  leaveDiscussion,\n})(WotoGroup);\n"]},"metadata":{},"sourceType":"module"}