{"ast":null,"code":"var _jsxFileName = \"/Users/jasmineharris/Desktop/Elite/woto/src/components/user/addcourse/EmailAddCourse.js\";\nimport React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Col, Button } from \"antd\";\nimport { useHistory } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport selectors from \"../../../redux/selectors\";\nimport { courseEnroll } from \"../../../redux/sorted-courses/actionCreators\";\nimport { BugImage, SchoolImage } from \"../../../static/LoadedImages\";\n/**\n * Try to enroll a student in a course and show error message on fail\n * Example url -> \"/enroll/#key=084758yhroufgbk48y\"\n */\n\nconst EmailAddCourse = props => {\n  const history = useHistory();\n  const {\n    course,\n    error\n  } = props;\n  const _courseEnroll = props.courseEnroll; // const url = window.location.href; //url of the current page\n  // const userType = url.split(\"/verify/\")[1].split(\"/\")[0];\n\n  useEffect(() => {\n    const path = window.location.pathname; //url of the current page\n\n    const split = path.split(\"=\"); //this creates an array with key ([0] element) and value ([1] element)\n\n    const key = split[1];\n\n    async function addCourse() {\n      await _courseEnroll(key);\n    }\n\n    if (!course && !error) {\n      addCourse();\n    }\n  }, [course, error, history, _courseEnroll]);\n  return /*#__PURE__*/React.createElement(Col, {\n    span: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 24,\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, error ? /*#__PURE__*/React.createElement(BugImage, {\n    className: \"small-hero-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }) : /*#__PURE__*/React.createElement(SchoolImage, {\n    className: \"small-hero-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    span: 24,\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    style: {\n      maxWidth: 450\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"verify-failed\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, course ? `Enrolled in ${course.name} (${course.code})` : error), course && /*#__PURE__*/React.createElement(Link, {\n    to: `/courses/${course._id}/session`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    block: true,\n    type: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 15\n    }\n  }, `Join ${course.code}`)))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    course: selectors.getCourse(state),\n    error: selectors.getError(state)\n  };\n};\n\nexport default connect(mapStateToProps, {\n  courseEnroll\n})(EmailAddCourse);","map":{"version":3,"sources":["/Users/jasmineharris/Desktop/Elite/woto/src/components/user/addcourse/EmailAddCourse.js"],"names":["React","useEffect","Link","Col","Button","useHistory","connect","selectors","courseEnroll","BugImage","SchoolImage","EmailAddCourse","props","history","course","error","_courseEnroll","path","window","location","pathname","split","key","addCourse","maxWidth","name","code","_id","mapStateToProps","state","getCourse","getError"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Col, Button } from \"antd\";\nimport { useHistory } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nimport selectors from \"../../../redux/selectors\";\nimport { courseEnroll } from \"../../../redux/sorted-courses/actionCreators\";\n\nimport { BugImage, SchoolImage } from \"../../../static/LoadedImages\";\n\n/**\n * Try to enroll a student in a course and show error message on fail\n * Example url -> \"/enroll/#key=084758yhroufgbk48y\"\n */\nconst EmailAddCourse = (props) => {\n  const history = useHistory();\n  const { course, error } = props;\n  const _courseEnroll = props.courseEnroll;\n  // const url = window.location.href; //url of the current page\n  // const userType = url.split(\"/verify/\")[1].split(\"/\")[0];\n  useEffect(() => {\n    const path = window.location.pathname; //url of the current page\n    const split = path.split(\"=\"); //this creates an array with key ([0] element) and value ([1] element)\n    const key = split[1];\n\n    async function addCourse() {\n      await _courseEnroll(key);\n    }\n    if (!course && !error) {\n      addCourse();\n    }\n  }, [course, error, history, _courseEnroll]);\n\n  return (\n    <Col span={24}>\n      <Col span={24} align=\"center\">\n        {error ? (\n          <BugImage className=\"small-hero-image\" />\n        ) : (\n          <SchoolImage className=\"small-hero-image\" />\n        )}\n      </Col>\n      <Col span={24} align=\"center\">\n        <Col style={{ maxWidth: 450 }}>\n          <h2 className=\"verify-failed\">\n            {course ? `Enrolled in ${course.name} (${course.code})` : error}\n          </h2>\n          {course && (\n            <Link to={`/courses/${course._id}/session`}>\n              <Button block type=\"primary\">\n                {`Join ${course.code}`}\n              </Button>\n            </Link>\n          )}\n        </Col>\n      </Col>\n    </Col>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    course: selectors.getCourse(state),\n    error: selectors.getError(state),\n  };\n};\n\nexport default connect(mapStateToProps, { courseEnroll })(EmailAddCourse);\n"]},"metadata":{},"sourceType":"module"}