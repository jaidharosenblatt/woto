{"ast":null,"code":"var _jsxFileName = \"/Users/jasmineharris/Desktop/Elite/woto/src/static/ProgressiveImage.js\";\nimport React, { Component } from \"react\";\n/**\n * @perjansson a low quality blurred image \"preview\" before displaying \"image\"\n * https://medium.com/@perjansson/a-progressive-image-loader-in-react-f14ae652619d\n */\n\nexport default class ProgressiveImage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      currentImage: this.props.preview,\n      loading: true\n    };\n\n    this.fetchImage = src => {\n      const image = new Image();\n\n      image.onload = () => this.setState({\n        currentImage: this.loadingImage.src,\n        loading: false\n      });\n\n      image.src = src;\n      this.loadingImage = image;\n    };\n\n    this.style = loading => {\n      return {\n        transition: \"0.5s\",\n        opacity: `${loading ? 0 : 1}`\n      };\n    };\n  }\n\n  componentDidMount() {\n    this.fetchImage(this.props.image);\n  }\n\n  componentDidUpdate(nextProps) {\n    if (nextProps.image !== this.props.image) {\n      this.setState({\n        currentImage: nextProps.preview,\n        loading: true\n      }, () => {\n        this.fetchImage(nextProps.image);\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.loadingImage) {\n      this.loadingImage.onload = null;\n    }\n  }\n\n  render() {\n    const {\n      currentImage,\n      loading\n    } = this.state;\n    const {\n      alt\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"img\", {\n      className: this.props.className || \"\",\n      style: this.style(loading),\n      src: currentImage,\n      alt: alt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }\n    });\n  }\n\n}","map":{"version":3,"sources":["/Users/jasmineharris/Desktop/Elite/woto/src/static/ProgressiveImage.js"],"names":["React","Component","ProgressiveImage","state","currentImage","props","preview","loading","fetchImage","src","image","Image","onload","setState","loadingImage","style","transition","opacity","componentDidMount","componentDidUpdate","nextProps","componentWillUnmount","render","alt","className"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA;;;;;AAIA,eAAe,MAAMC,gBAAN,SAA+BD,SAA/B,CAAyC;AAAA;AAAA;AAAA,SACtDE,KADsD,GAC9C;AACNC,MAAAA,YAAY,EAAE,KAAKC,KAAL,CAAWC,OADnB;AAENC,MAAAA,OAAO,EAAE;AAFH,KAD8C;;AAAA,SAwBtDC,UAxBsD,GAwBxCC,GAAD,IAAS;AACpB,YAAMC,KAAK,GAAG,IAAIC,KAAJ,EAAd;;AACAD,MAAAA,KAAK,CAACE,MAAN,GAAe,MACb,KAAKC,QAAL,CAAc;AAAET,QAAAA,YAAY,EAAE,KAAKU,YAAL,CAAkBL,GAAlC;AAAuCF,QAAAA,OAAO,EAAE;AAAhD,OAAd,CADF;;AAEAG,MAAAA,KAAK,CAACD,GAAN,GAAYA,GAAZ;AACA,WAAKK,YAAL,GAAoBJ,KAApB;AACD,KA9BqD;;AAAA,SAgCtDK,KAhCsD,GAgC7CR,OAAD,IAAa;AACnB,aAAO;AACLS,QAAAA,UAAU,EAAE,MADP;AAELC,QAAAA,OAAO,EAAG,GAAEV,OAAO,GAAG,CAAH,GAAO,CAAE;AAFvB,OAAP;AAID,KArCqD;AAAA;;AAMtDW,EAAAA,iBAAiB,GAAG;AAClB,SAAKV,UAAL,CAAgB,KAAKH,KAAL,CAAWK,KAA3B;AACD;;AAEDS,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC5B,QAAIA,SAAS,CAACV,KAAV,KAAoB,KAAKL,KAAL,CAAWK,KAAnC,EAA0C;AACxC,WAAKG,QAAL,CAAc;AAAET,QAAAA,YAAY,EAAEgB,SAAS,CAACd,OAA1B;AAAmCC,QAAAA,OAAO,EAAE;AAA5C,OAAd,EAAkE,MAAM;AACtE,aAAKC,UAAL,CAAgBY,SAAS,CAACV,KAA1B;AACD,OAFD;AAGD;AACF;;AAEDW,EAAAA,oBAAoB,GAAG;AACrB,QAAI,KAAKP,YAAT,EAAuB;AACrB,WAAKA,YAAL,CAAkBF,MAAlB,GAA2B,IAA3B;AACD;AACF;;AAiBDU,EAAAA,MAAM,GAAG;AACP,UAAM;AAAElB,MAAAA,YAAF;AAAgBG,MAAAA;AAAhB,QAA4B,KAAKJ,KAAvC;AACA,UAAM;AAAEoB,MAAAA;AAAF,QAAU,KAAKlB,KAArB;AACA,wBACE;AACE,MAAA,SAAS,EAAE,KAAKA,KAAL,CAAWmB,SAAX,IAAwB,EADrC;AAEE,MAAA,KAAK,EAAE,KAAKT,KAAL,CAAWR,OAAX,CAFT;AAGE,MAAA,GAAG,EAAEH,YAHP;AAIE,MAAA,GAAG,EAAEmB,GAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAQD;;AAlDqD","sourcesContent":["import React, { Component } from \"react\";\n\n/**\n * @perjansson a low quality blurred image \"preview\" before displaying \"image\"\n * https://medium.com/@perjansson/a-progressive-image-loader-in-react-f14ae652619d\n */\nexport default class ProgressiveImage extends Component {\n  state = {\n    currentImage: this.props.preview,\n    loading: true,\n  };\n\n  componentDidMount() {\n    this.fetchImage(this.props.image);\n  }\n\n  componentDidUpdate(nextProps) {\n    if (nextProps.image !== this.props.image) {\n      this.setState({ currentImage: nextProps.preview, loading: true }, () => {\n        this.fetchImage(nextProps.image);\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.loadingImage) {\n      this.loadingImage.onload = null;\n    }\n  }\n\n  fetchImage = (src) => {\n    const image = new Image();\n    image.onload = () =>\n      this.setState({ currentImage: this.loadingImage.src, loading: false });\n    image.src = src;\n    this.loadingImage = image;\n  };\n\n  style = (loading) => {\n    return {\n      transition: \"0.5s\",\n      opacity: `${loading ? 0 : 1}`,\n    };\n  };\n\n  render() {\n    const { currentImage, loading } = this.state;\n    const { alt } = this.props;\n    return (\n      <img\n        className={this.props.className || \"\"}\n        style={this.style(loading)}\n        src={currentImage}\n        alt={alt}\n      />\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}